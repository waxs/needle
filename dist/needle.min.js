var Needle=function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r={sort:{sort:!0,sortDate:!0},debugging:{log:!0,print:!0,random:!0},template:{template:!0},numbers:{bigger:!0,smaller:!0,between:!0,equal:!0,min:!0,max:!0,positive:!0,negative:!0,sum:!0},dates:{before:!0,after:!0,period:!0,month:!0,year:!0,previous:!0,upcoming:!0},matches:{is:!0,has:!0,hasDeep:!0,find:!0,findDeep:!0},combinations:{where:!0,orWhere:!0,andWhere:!0}},i=function(t,n,e){Object.keys(e).forEach((function(i){var a=void 0===r[n];t.prototype[i]=(a||r[n][i])&&e[i]}))};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(){return Math.floor(Date.now()/1e3)},u=function(){return(new Date).getFullYear()%4==0},s=function(t){return[{index:0,month:"jan",days:31},{index:1,month:"feb",days:u?28:29},{index:2,month:"mar",days:31},{index:3,month:"apr",days:30},{index:4,month:"may",days:31},{index:5,month:"jun",days:30},{index:6,month:"jul",days:31},{index:7,month:"aug",days:31},{index:8,month:"sep",days:30},{index:9,month:"oct",days:31},{index:10,month:"nov",days:30},{index:11,month:"dec",days:31}]},h=function(){var t=new Date,n=t.getMonth(),e=t.getFullYear();return[{name:"days",amount:1},{name:"weeks",amount:7},{name:"months",year:e,month:n,amount:30},{name:"quarters",year:e,amount:Math.round((u?366:365)/4)},{name:"years",year:e,amount:u?366:365}]},c=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"history",r=n?new Date(n):new Date,i={history:r.getTime()-24*t*60*60*1e3,future:r.getTime()+24*t*60*60*1e3},a=new Date(i[e]);a.getDate(),a.getMonth(),a.getFullYear();return a},f=function(t){return Array.isArray(t)?"array":a(t)},l=function(t){return Array.isArray(t)},d=function(t){return l&&1===t.length&&t[0]||t},_=function(t,n,e){return l(t[n])?t[n].includes(e):t[n]===e},p=function(t,n,e,r){return{">":(t=r?new Date(t):t)>(e=r?new Date(e):e),"<":t<e,">=":t>=e,"<=":t<=e,"=":t===e}[n]},v=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=function(t,e){return{a:t=r?new Date(t[n]):t[n],b:e=r?new Date(e[n]):e[n]}},a=function(t,n){var e=i(t,n);return e.b<e.a?1:e.b>e.a?-1:0},o=function(t,n){var e=i(t,n);return e.a<e.b?1:e.a>e.b?-1:0},u={asc:function(){return t.sort(a)},desc:function(){return t.sort(o)}};return u[e]()},y=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b={_hasTrail:function(){if(this._trail.exe.length)return this._data=[].concat.apply([],this._exeTrail()),this._chain(this._data)},_addTrail:function(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];t&&this._trail.exe.push({type:["andWhere"].includes(n)?"and":["orWhere"].includes(n)&&"or",name:"_"+n,args:r,exe:this["_"+n].bind(this)})},_resetTrail:function(){this._trail={exe:[],data:[],prev:[]}},_exeTrail:function(){var t=this,n=[],e=[],r=this._trail.exe.map((function(r){return"or"===r.type&&(e=t._trail.data),"and"===r.type&&(e=t._trail.prev),n.push(r.type),r.exe.apply(r,g(r.args).concat([e]))}));return n.includes("and")||r.push(this._trail.prev),this._resetTrail(),r}};var T={take:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._data.length,n=arguments.length>1?arguments[1]:void 0;this._hasTrail(),"string"===f(t)&&"all"===t&&(t=this._data.length);var e=this._data.slice(0,t),r=(!t||t>=this._data.length)&&this._data||e;return this.info=r.length,n&&{results:r,info:this.info}||r},select:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];this._hasTrail();var i=this._data.map((function(n){var r={};return e.forEach((function(e){var i=-1!==e.indexOf(".")&&t._objPath(e);(n[e]||n[i[0]])&&(i?r[i.slice(-1)[0]]=t._objReduce(i,n):r[e]=n[e])})),r}));return this._chain(i)},chunk:function(t){var n=this;this._hasTrail(),this._chunks.data=[],this._chunks.current=0;for(var e=0;e<this._data.length;e+=t)this._chunks.data.push(this._data.slice(e,e+t));var r={chunks:this._chunks.data,current:this._chunks.selected,amount:this._chunks.data.length,size:t,prev:function(){return n._prevChunk()},next:function(){return n._nextChunk()},start:function(t){return n.template(t,n._chunks.data[0]),r}};return r},_prevChunk:function(){var t=this._chunks;return t.current+=0===t.current?t.data.length-1:-1,this._chain(t.data[t.current])},_nextChunk:function(){var t=this._chunks;return t.current+=t.current<t.data.length-1?1:-Math.abs(t.data.length-1),this._chain(t.data[t.current])},values:function(t){var n=this;this._hasTrail();var e=[];return function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n._data,a=arguments.length>2?arguments[2]:void 0;i.forEach((function(i){var o=a||i,u=n._deep(r,i);i.hasOwnProperty(r)&&e.push(i[r]),u.length&&t(r,u.map((function(t){return i[t]})),o)}))}(t),e},index:function(t){return this._hasTrail(),this._data[t]},get:function(){return this._hasTrail(),this._chain(this._data)},first:function(){this._hasTrail();var t=this._data[0];return this._chain([t])},last:function(){this._hasTrail();var t=this._data.slice(-1)[0];return this._chain([t])},count:function(){return this._hasTrail(),this._amount}};var w={sort:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this._hasTrail();var e=v(this._data,t,n);return this._chain(e)},sortDate:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this._hasTrail();var e=v(this._data,t,n,!0);return this._chain(e)}};var O={log:function(t){this._hasTrail(),console.log(t&&this.take(t)||this._data)},print:function(t){this._hasTrail(),(document.querySelector("#result")||document.body).textContent=[this._data].map((function(t){return JSON.stringify(t)}))},random:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._hasTrail();for(var n=[];n.length!==t||n.length===this._data.length;){var e=Math.floor(Math.random()*(1+this._data.length-1));-1===n.indexOf(this._data[e])&&n.push(this._data[e])}return this._chain(n)}};var j={template:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._data;return this._hasTrail()?this._data.forEach(t,this):(n.forEach(t,{needle:this,info:this.info}),this.info)}};function x(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k={bigger:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._hasTrail();var r=this._operator(t,">=",n,e);return this._chain(r)},smaller:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._hasTrail();var r=this._operator(t,"<=",n,e);return this._chain(r)},between:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._hasTrail();var r=this._data.filter((function(r){return p(r[t],">=",n[0],e)&&p(r[t],"<=",n[1],e)}));return this._chain(r)},equal:function(t,n){this._hasTrail();var e=this._operator(t,"=",n);return this._chain(e)},min:function(t){this._hasTrail();var n=Math.min.apply(Math,x(this._data.map((function(n){return n[t]}))));return this.find(t,n)},max:function(t){this._hasTrail();var n=Math.max.apply(Math,x(this._data.map((function(n){return n[t]}))));return this.find(t,n)},positive:function(t){this._hasTrail();var n=this._operator(t,">=",0);return this._chain(n)},negative:function(t){this._hasTrail();var n=this._operator(t,"<",0);return this._chain(n)},sum:function(t){return this._hasTrail(),this._calc=this._data.reduce((function(n,e){return n+e[t]}),0),this._calc}};var S={before:function(t,n){return this.smaller(t,n,!0)},after:function(t,n){return this.bigger(t,n,!0)},period:function(t,n){return this.between(t,n,!0)},month:function(t,n,e){var r=s(),i=this._find("month",n,r)[0],a=c(0,"".concat(i.month,"/1/").concat(e)),o=c(0,"".concat(i.month,"/").concat(i.days,"/").concat(e));return this.between(t,[a,o],!0)},year:function(t,n){return this.between(t,["1/1/".concat(n),"12/31/".concat(n)],!0)},_namedDates:function(t){var n=h();return this._find("name",t,n)[0]},previous:function(t,n,e){var r=this._namedDates(e),i=c(r.amount*n);return this.between(t,[i,new Date],!0)},upcoming:function(t,n,e){var r=this._namedDates(e),i=c(r.amount*n,new Date,"future");return this.between(t,[new Date,i],!0)}};var D={is:function(t){this._hasTrail();var n=this._data.filter((function(n){return n[t]}));return this._chain(n)},has:function(t){this._hasTrail();var n=this._data.filter((function(n){return n.hasOwnProperty(t)}));return this._chain(n)},hasDeep:function(t){var n=this;this._hasTrail();var e=[];return function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n._data,a=arguments.length>2?arguments[2]:void 0;i.forEach((function(i){var o=a||i,u=n._deep(r,i);i.hasOwnProperty(r)&&e.push(o),u.length&&t(r,u.map((function(t){return i[t]})),o)}))}(t),this._chain(e)},find:function(t,n){this._hasTrail();var e=this._find(t,n);return this._chain(e)},findDeep:function(t,n){var e=this;this._hasTrail();var r=[];return function t(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._data,o=arguments.length>3?arguments[3]:void 0;a.forEach((function(a){var u=o||a,s=e._deep(n,a);u===a&&e._find(n,i,[a]).length>0&&!r.includes(u)&&r.push(u),(0===s.length||Object.keys(a).includes(n))&&e._find(n,i,[a]).length>0&&!r.includes(u)&&r.push(u),s.length&&t(n,i,s.map((function(t){return a[t]})),u)}))}(t,n),this._chain(r)}};var P={where:function(t,n,e){this._hasTrail(),this._trail.data=this._data;var r=this._operator(t,n,e);return this._trail.prev=r,this._chain(r)},orWhere:function(t,n,e){return this._addTrail(!0,"orWhere",t,n,e),this._chain(this._data)},_orWhere:function(t,n,e,r){return this._operator(t,n,e,!1,r)},andWhere:function(t,n,e){return this._addTrail(!0,"andWhere",t,n,e),this._chain(this._data)},_andWhere:function(t,n,e,r){return this._operator(t,n,e,!1,r)}};var A={save:function(t){return t=t||y(),store.forEach((function(t){return t.id++})),store.push({name:t,id:1,data:this._data,time:o()}),store.reverse(),t},retrieve:function(t){return this._find("name",t,store)}};var E={create:function(t){this._data.push(t),this._chain(this._data)},read:function(t){return this._hasTrail(),this._data[t]},update:function(t,n){this._hasTrail(),this._data[t]=n,this._chain(this._data)},updateValue:function(t,n,e){this._hasTrail(),this._data[t][n]=e,this._chain(this._data)},updateAll:function(t,n){this._hasTrail(),this._data.forEach((function(e){return e[t]=n})),this._chain(this._data)},remove:function(t){this._hasTrail(),delete this._data[t],this._chain(this._data)},removeValue:function(t,n){this._hasTrail(),delete this._data[t][n],this._chain(this._data)},removeAll:function(){this._hasTrail(),this._data=[],this._chain(this._data)}};var M=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function q(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?C(Object(e),!0).forEach((function(n){F(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):C(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function F(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function N(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,n){return!n||"object"!==W(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,n){return(I=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}i(M,"helpers",{_chain:function(t){return new Needle(t,this._trail)},_deep:function(t,n){return Object.keys(n).filter((function(t){return!l(n[t])&&"object"===m(n[t])&&n}))},_find:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._data;return n=d(n),{array:function(){return e.filter((function(e){return e[t]&&e[t].some((function(t){return n.includes(t)}))}))},boolean:function(){return e.filter((function(n){return n[t]}))},string:function(){return e.filter((function(e){return e[t]&&_(e,t,n)}))},number:function(){return e.filter((function(e){return e[t]&&_(e,t,n)}))}}[f(n)]()},_objPath:function(t){return t.split(".")},_objReduce:function(t,n){return t.map((function(t){return t})).reduce((function(t,n){return t[n]}),n)},_operator:function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._data).filter((function(i){return p(i[t],n,e,r)}))}}),i(M,"trail",b),i(M,"retrieve",T),i(M,"sort",w),i(M,"debugging",O),i(M,"template",j),i(M,"numbers",k),i(M,"dates",S),i(M,"matches",D),i(M,"combinations",P),i(M,"store",A),i(M,"crud",E);var V=[],z=[],J=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=R(this,Y(n).call(this)),V=V.length?V:e,t._amount=e.length||0,t._calc=0,t._chunks=[],t._data=e,t._info={chunks:q({},t._chunks),original:V.length,length:t._data.length},t._settings={},t._stamp={},t._trail=r||{exe:[],data:[],prev:[]},t}var e,r,i;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&I(t,n)}(n,t),e=n,(r=[{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"info",get:function(){return this._info},set:function(t){this._info.length=t}},{key:"config",set:function(t){this._settings=t},get:function(){return this._settings}},{key:"store",get:function(){return z}}])&&N(e.prototype,r),i&&N(e,i),n}(M);n.default=J}]).default;